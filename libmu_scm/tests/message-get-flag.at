# This file is part of GNU Mailutils                    -*- Autotest -*-
# Copyright (C) 2018-2020 Free Software Foundation, Inc.
# License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
# This is free software: you are free to change and redistribute it.
# There is NO WARRANTY, to the extent permitted by law.

AT_SETUP([mu-message-set/get-flag])
AT_KEYWORDS([message])
MU_GUILE_CHECK([
(let ((msg (test-message)))
  (display msg)(newline)
  (mu-message-set-flag msg (logior MU-ATTRIBUTE-READ MU-ATTRIBUTE-SEEN))
  (display msg)(newline)
  (mu-message-set-flag msg MU-ATTRIBUTE-READ #f)  
  (display msg)(newline)
  (mu-message-set-flag msg MU-ATTRIBUTE-SEEN #f)  
  (display msg)(newline))],
 0,
[#<message "user@example.org" "Fri Jun  8 14:30" 10 539>
#<message "user@example.org" "Fri Jun  8 14:30" 10 539 OR>
#<message "user@example.org" "Fri Jun  8 14:30" 10 539 O>
#<message "user@example.org" "Fri Jun  8 14:30" 10 539>
])
AT_CLEANUP
